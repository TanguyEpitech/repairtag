<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
crossorigin=""></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</head>
<body>



<style>

#map { height: 300px; }

.radios {
    display: grid;
    grid-template-columns:  1fr 1fr;
}

.monform {
    padding: 50px;
    border: none !important;
    border-radius: 30px;
}

.form { margin-top: 20vh !important;
    max-width: 500px;
    margin: auto;
    margin-bottom: 20px;
}
.main {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
}


.leaflet-marker-icon img{
display: none !important;
}


</style>




<div class="main">

    <div id='text-reponse' class="card">
    </div>
    <div class="card"></div>
    <div class="card"></div>
    
    </div>
    
    <h2 class="p-3"> votre professionel adapté</h2>

    
    
    <div class="form">
    <div class="card shadow  monform">
    <label class="form-label" for="">Quel objet avez vous besoin de réparer ?</label>

<select name="objet" id="selection">

<option value="velo">velo</option>
<option value="lkjlkj">velo</option>
<option value="dkslfj">velo</option>
<option value="sdklfj">velo</option>  
<option value="dklsfj">velo</option>
<option value="skldf">velo</option>


</select>

    <br>
    <button id="button-form" onclick="objet()"  class="btn btn-primary ">Valider</button>

    
    </div>
    
    
    
    </div>
    </div>
    

<div id="map"></div>

   
    
<script>
    
var tab = [];
            
    let inputs = $("input");
    
    $.ajax({
        url: '/text1.json',
        type: 'POST',

        success: function(response) {

            tab= response;
            
        }
    
        
        
    });
    





function objet() {
    let input = $("#selection");
    console.log(input.val())
return input.val()
}


window.onload = function(){

var map = L.map('map').setView([48.117266, -1.6777926], 13);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    // attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);


var type = objet();

console.log(tab.lenght)
console.log(objet());


console.log(tab[1])

for (let s = 0; s< tab.length; s++) {

    L.marker([tab[s].latitude, tab[s].longitude]).addTo(map)
    .bindPopup(tab[s].Nom)
    .openPopup(); 
}

   

    // L.marker([51.5, -0.05]).addTo(map)
    // .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
    // .openPopup();  

}

</script>

 


</body>





</html>